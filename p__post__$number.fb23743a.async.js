(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{ejR0:function(e,t,a){e.exports={container:"container___25vFq",wapper:"wapper___3zToX",post:"post___1ZgIo",loading:"loading___23PQ4",lincenses:"lincenses___34-m-","post-squares":"post-squares___1Fw0-"}},p4jX:function(e,t,a){"use strict";var n=a("284h"),o=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=o(a("MVZn")),r=n(a("MebM")),l=a("MuoO"),d=o(a("dnEz")),i=o(a("LvDl")),p=o(a("UbMB")),c=a("Kvkj"),u=o(a("20nU")),m=o(a("ejR0")),f=u.default.gitalkOption,v=p.default.bind(m.default);class b extends r.PureComponent{constructor(){super(...arguments),this.renderGitalk=(()=>{var e=this.props.post,t=new d.default((0,s.default)({},f,{title:e.title}));t.render(`gitalk-${e.id}`)})}componentDidMount(){var e=this.props,t=e.dispatch,a=e.match,n=a.params.number;t({type:"global/queryPost",payload:{number:n}})}componentWillReceiveProps(e){var t=this.props,a=t.dispatch,n=t.post;n.number&&+n.number!==+e.match.params.number&&a({type:"global/queryPost",payload:{number:e.match.params.number}})}componentWillUnmount(){this.props.dispatch({type:"global/updateState",payload:{post:{}}})}render(e){var t=e.post,a=e.prevPost,n=e.nextPost,o=e.loading,s=o||i.default.isEmpty(t);return r.default.createElement("div",{class:v("container")},r.default.createElement("div",{class:v("wapper")},r.default.createElement(c.Transition,{visible:!s,animation:"drop",duration:600,onShow:this.renderGitalk},r.default.createElement("div",{class:v("post")},r.default.createElement(c.PostBody,t),r.default.createElement(c.Reward,null),r.default.createElement("div",{class:v("lincenses")},r.default.createElement("a",{href:"https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh",rel:"noopener noreferrer",target:"_blank"},"\u7f72\u540d-\u975e\u5546\u4e1a\u6027\u4f7f\u7528-\u76f8\u540c\u65b9\u5f0f\u5171\u4eab 4.0 \u56fd\u9645")),r.default.createElement("div",{class:v("post-squares")},r.default.createElement(c.PostPV,a),r.default.createElement(c.PostPV,n)))),s&&r.default.createElement(c.Loading,{className:v("loading")})),!s&&t.id&&r.default.createElement("div",{id:`gitalk-${t.id}`}))}}var _=(0,l.connect)(e=>{var t=e.global,a=e.loading,n=t.post,o=t.prevPost,s=t.nextPost;return{post:n,prevPost:o,nextPost:s,loading:a.effects["global/queryPost"]}})(b);t.default=_}}]);