(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{Gtai:function(e,t,a){"use strict";var n=a("284h"),r=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a("MVZn")),i=n(a("MebM")),o=a("MuoO"),d=r(a("LvDl")),s=r(a("dnEz")),c=r(a("UbMB")),u=a("Kvkj"),f=r(a("20nU")),p=r(a("NmDz")),m=f.default.gitalkOption,g=f.default.friendsOption,v=g.enableGitalk,h=g.qoute,_=c.default.bind(p.default);class k extends i.PureComponent{constructor(e){super(e),this.renderGitalk=(()=>{v&&!this.state.renderGitalk&&(setTimeout(()=>{var e=new s.default((0,l.default)({},m,{title:"\u53cb\u94fe"}));e.render("gitalk")},100),this.setState({renderGitalk:!0}))}),this.state={showLoading:!0,renderGitalk:!1}}componentDidMount(){this.props.dispatch({type:"global/queryPage",payload:{type:"friends"}})}componentWillReceiveProps(e){e.loading||d.default.isEmpty(e.friends)||this.setState({showLoading:!1})}componentWillUnmount(){this.props.dispatch({type:"global/updateState",payload:{friends:{}}})}render(e,t){var a=e.friends,n=e.loading,r=t.showLoading,l=a.body&&a.body.trim().split("## ").filter(e=>e.length>0).map(e=>{var t=e.split("\r\n").filter(e=>e.length);return{name:t[0],link:t[1].split("link:")[1],cover:t[2].split("cover:")[1],avatar:t[3].split("avatar:")[1]}});return i.default.createElement("div",{class:_("container")},i.default.createElement(u.Transition,{visible:!n&&!r,animation:"drop",duration:600,onShow:this.renderGitalk},i.default.createElement("div",{class:_("body")},i.default.createElement(u.Quote,{text:h}),i.default.createElement("div",{class:_("content")},l&&l.map((e,t)=>{return i.default.createElement("a",{key:t,href:e.link,rel:"noopener noreferrer",target:"_blank"},i.default.createElement("img",{class:_("cover"),alt:"",src:e.cover}),i.default.createElement("div",{class:_("info")},i.default.createElement("img",{src:e.avatar,alt:""}),i.default.createElement("span",null,e.name)))}),d.default.range(4).map((e,t)=>{return i.default.createElement("a",{class:"empty",style:"height: 0; margin: 0;",key:t+"empty",href:e.link,rel:"noopener noreferrer",target:"_blank"})})))),v&&i.default.createElement("div",{id:"gitalk"}),r&&i.default.createElement(u.Loading,{className:_("loading")}))}}var b=(0,o.connect)(e=>{var t=e.global,a=e.loading;return{friends:t.friends,loading:a.effects["global/queryPage"]}})(k);t.default=b},NmDz:function(e,t,a){e.exports={container:"container___12aEs",body:"body___2Y5u2",content:"content___3MPF6",cover:"cover___3l7G8",info:"info___30ppm",loading:"loading___2h-r2"}}}]);