(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{eXYu:function(e,t,a){"use strict";var l=a("284h"),i=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("pVnL")),r=i(a("MVZn")),s=l(a("MebM")),o=a("MuoO"),d=i(a("LvDl")),c=i(a("dnEz")),u=i(a("UbMB")),p=a("Kvkj"),f=i(a("20nU")),g=i(a("igJ4")),h=f.default.gitalkOption,m=f.default.tagsOption,v=f.default.themeColors,b=m.enableGitalk,_=m.qoute,E=u.default.bind(g.default),P=d.default.shuffle(v);class k extends s.PureComponent{constructor(e){super(e),this.filterPost=(e=>{this.props.dispatch({type:"global/filterPost",payload:{type:"labels",filter:e}}).then(t=>{var a=t.slice(0,this.state.pageSize),l=Math.ceil(t.length/this.state.pageSize);this.setState({filterTitle:e,filterPost:t,currList:a,page:1,maxPage:l})}).catch(console.error)}),this.clearFilter=(()=>{this.setState({filterTitle:"",filterPost:[],currList:[],page:1,maxPage:1})}),this.prev=(()=>{var e=this.state,t=e.filterPost,a=e.page,l=e.pageSize,i=a-1,n=t.slice((i-1)*l,(a-1)*l);this.setState({currList:n,page:i})}),this.next=(()=>{var e=this.state,t=e.filterPost,a=e.page,l=e.pageSize,i=a+1,n=t.slice(a*l,i*l);this.setState({currList:n,page:i})}),this.renderGitalk=(()=>{b&&!this.state.renderGitalk&&(setTimeout(()=>{var e=new c.default((0,r.default)({},h,{title:"\u6807\u7b7e"}));e.render("gitalk")},100),this.setState({renderGitalk:!0}))}),this.state={showLoading:!0,renderGitalk:!1,filterTitle:"",filterPost:[],currList:[],pageSize:10,page:1,maxPage:1}}componentDidMount(){this.props.dispatch({type:"global/queryTags"})}componentWillReceiveProps(e){!e.loading&&e.tags.length&&this.setState({showLoading:!1})}componentWillUnmount(){this.props.dispatch({type:"global/updateState",payload:{tags:[]}})}render(e,t){var a=e.tags,l=e.loading,i=t.showLoading,r=t.filterTitle,o=t.currList,d=t.page,c=t.maxPage;return s.default.createElement("div",{class:E("container")},s.default.createElement(p.Transition,{visible:!l&&!i,animation:"drop",duration:600,onShow:this.renderGitalk},s.default.createElement("div",{class:E("body")},s.default.createElement(p.Quote,{text:_}),s.default.createElement("div",{class:E("content")},a.map((e,t)=>{var a=P[t%P.length];return s.default.createElement("button",{key:t,style:{color:a},onClick:()=>this.filterPost(e.name)},e.name)})),s.default.createElement(p.Transition,{visible:o.length,animation:"fade down",duration:600},s.default.createElement("div",{class:E("filter-post")},s.default.createElement("div",null,s.default.createElement("span",null,"Tag:"),s.default.createElement("button",{class:E("menu-btn"),onClick:this.clearFilter},r,s.default.createElement("i",{className:"fa fa-times","aria-hidden":"true"}))),s.default.createElement("div",{class:E("content")},o.map((e,t)=>{var a=P[t];return s.default.createElement(p.Archive,(0,n.default)({key:t,color:a},e))})),s.default.createElement(p.Pagination,{prev:this.prev,next:this.next,page:d,maxPage:c}))))),b&&s.default.createElement("div",{id:"gitalk"}),i&&s.default.createElement(p.Loading,{className:E("loading")}))}}var y=(0,o.connect)(e=>{var t=e.global,a=e.loading;return{tags:t.tags,loading:a.effects["global/queryTags"]}})(k);t.default=y},igJ4:function(e,t,a){e.exports={container:"container___1Qbfq",body:"body___1FEoG",content:"content___1i_eU","filter-post":"filter-post___1iGR7","menu-btn":"menu-btn___25cpl",loading:"loading___2vmX3"}}}]);