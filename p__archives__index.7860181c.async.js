(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"2iDk":function(e,t,a){e.exports={container:"container___2ryXq",body:"body___2w4M1",content:"content___XNmiU",loading:"loading___1GjBJ"}},QkCE:function(e,t,a){"use strict";var i=a("284h"),r=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("pVnL")),s=r(a("ZDp4")),l=r(a("MVZn")),o=i(a("MebM")),d=a("MuoO"),c=r(a("LvDl")),u=r(a("dnEz")),h=r(a("UbMB")),p=a("Kvkj"),g=r(a("20nU")),v=r(a("2iDk")),f=g.default.gitalkOption,m=g.default.archivesOption,k=g.default.themeColors,_=m.enableGitalk,b=m.qoute,w=h.default.bind(v.default),E=c.default.shuffle(k);class L extends o.PureComponent{constructor(e){super(e),this.prev=(()=>{var e=this.state,t=e.archives,a=e.page,i=e.pageSize,r=a-1,n=t.slice((r-1)*i,(a-1)*i);this.setState({currList:n,page:r})}),this.next=(()=>{var e=this.state,t=e.archives,a=e.page,i=e.pageSize,r=a+1,n=t.slice(a*i,r*i);this.setState({currList:n,page:r})}),this.renderGitalk=(()=>{_&&!this.state.renderGitalk&&(setTimeout(()=>{var e=new u.default((0,l.default)({},f,{title:"\u5f52\u6863"}));e.render("gitalk")},100),this.setState({renderGitalk:!0}))}),this.state={showLoading:!0,renderGitalk:!1,archives:[],currList:[],pageSize:12,page:1,maxPage:1}}componentDidMount(){this.queryArchives()}queryArchives(){this.props.dispatch({type:"global/queryArchives"}).then(e=>{var t=e.slice(0,this.state.pageSize),a=Math.ceil(e.length/this.state.pageSize);this.setState({showLoading:!1,archives:e,currList:t,page:1,maxPage:a})}).catch(console.error)}render(e,t){(0,s.default)(e);var a=t.showLoading,i=t.currList,r=t.page,l=t.maxPage;return o.default.createElement("div",{class:w("container")},o.default.createElement(p.Transition,{visible:!a,animation:"drop",duration:600,onShow:this.renderGitalk},o.default.createElement("div",{class:w("body")},o.default.createElement(p.Quote,{text:b}),o.default.createElement("div",{class:w("content")},i.map((e,t)=>{var a=E[t];return o.default.createElement(p.Archive,(0,n.default)({key:t,color:a},e))})),o.default.createElement(p.Pagination,{prev:this.prev,next:this.next,page:r,maxPage:l}))),_&&o.default.createElement("div",{id:"gitalk"}),a&&o.default.createElement(p.Loading,{className:w("loading")}))}}var x=(0,d.connect)(()=>({}))(L);t.default=x}}]);