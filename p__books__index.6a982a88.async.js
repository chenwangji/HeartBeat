(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{CpGj:function(e,t,a){"use strict";var l=a("284h"),n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("MVZn")),o=l(a("MebM")),i=a("MuoO"),s=n(a("LvDl")),d=n(a("dnEz")),u=n(a("UbMB")),c=a("Kvkj"),p=n(a("20nU")),f=n(a("MztZ")),m=p.default.gitalkOption,b=p.default.booksOption,g=b.enableGitalk,h=b.qoute,k=u.default.bind(f.default);class _ extends o.PureComponent{constructor(e){super(e),this.renderGitalk=(()=>{g&&(setTimeout(()=>{var e=new d.default((0,r.default)({},m,{title:"\u4e66\u5355"}));e.render("gitalk")},100),this.setState({renderGitalk:!0}))}),this.state={showLoading:!0,renderGitalk:!1}}componentDidMount(){this.props.dispatch({type:"global/queryPage",payload:{type:"books"}})}componentWillReceiveProps(e){e.loading||s.default.isEmpty(e.books)||this.setState({showLoading:!1})}componentWillUnmount(){this.props.dispatch({type:"global/updateState",payload:{books:{}}})}render(e,t){var a=e.books,l=e.loading,n=t.showLoading,r=a.body&&a.body.trim().split("## ").filter(e=>e.length).map(e=>{var t=e.split("\r\n").filter(e=>e.length);return{name:t[0],author:t[1].split("author:")[1].trim(),published:t[2].split("published:")[1].trim(),progress:t[3].split("progress:")[1].trim(),rating:t[4].split("rating:")[1].trim(),postTitle:t[5].split("postTitle:")[1].trim(),postLink:t[6].split("postLink:")[1].trim(),cover:t[7].split("cover:")[1].trim(),desc:t[9].split("desc:")[1].trim()}});return o.default.createElement("div",{class:k("container")},o.default.createElement(c.Transition,{visible:!l&&!n,animation:"drop",duration:600,onShow:this.renderGitalk},o.default.createElement("div",{class:k("body")},o.default.createElement(c.Quote,{text:h}),o.default.createElement("div",{class:k("content")},r&&r.map((e,t)=>{var a=e.name,l=e.author,n=e.published,r=e.progress,i=e.rating,s=e.postTitle,d=e.postLink,u=e.cover,c=e.desc,p=new Array(10).fill(1).map((e,t)=>{return o.default.createElement("i",{key:t,className:"fa fa-star",style:{color:t<=4&&"#f6f"},"aria-hidden":"true"})}),f=[].slice.call(p,5-parseInt(i,10),10-parseInt(i,10));return o.default.createElement("div",{key:t,class:k("book")},o.default.createElement("h2",null,a),o.default.createElement("div",{class:k("header")},o.default.createElement("img",{alt:"",src:u}),o.default.createElement("div",{class:k("info")},o.default.createElement("h2",null,a),o.default.createElement("p",null,"\u4f5c\u8005\uff1a",l),o.default.createElement("p",null,"\u51fa\u7248\u65f6\u95f4\uff1a",n),o.default.createElement("p",null,"\u9605\u8bfb\u8fdb\u5ea6\uff1a",r),o.default.createElement("p",null,"\u8bfb\u4e66\u7b14\u8bb0\uff1a",d.trim().length?o.default.createElement("a",{href:d,rel:"noopener noreferrer",target:"_blank"},s):"\u6682\u65e0"),o.default.createElement("p",null,"\u63a8\u8350\u6307\u6570\uff1a",f))),o.default.createElement("div",{class:k("desc")},c))})))),g&&o.default.createElement("div",{id:"gitalk"}),n&&o.default.createElement(c.Loading,{className:k("loading")}))}}var v=(0,i.connect)(e=>{var t=e.global,a=e.loading;return{books:t.books,loading:a.effects["global/queryPage"]}})(_);t.default=v},MztZ:function(e,t,a){e.exports={container:"container___Z1P3-",body:"body___Of6Kj",content:"content___1Rd2_",book:"book___3dv6E",header:"header___VCRXl",info:"info___3SFAf",desc:"desc___3P00H",loading:"loading___1k-xa"}}}]);