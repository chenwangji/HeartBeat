(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"4qrx":function(e,t,a){"use strict";var i=a("284h"),n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("ZDp4")),r=n(a("MVZn")),s=i(a("MebM")),d=a("MuoO"),l=n(a("LvDl")),c=n(a("dnEz")),u=n(a("UbMB")),p=a("Kvkj"),g=n(a("20nU")),h=n(a("cjU/")),m=g.default.gitalkOption,f=g.default.moodOption,v=g.default.themeColors,b=f.enableGitalk,k=f.qoute,M=u.default.bind(h.default),S=l.default.shuffle(v);class _ extends s.PureComponent{constructor(e){super(e),this.prev=(()=>{var e=this.state,t=e.mood,a=e.page,i=e.pageSize,n=a-1,o=t.slice((n-1)*i,(a-1)*i);this.setState({currList:o,page:n})}),this.next=(()=>{var e=this.state,t=e.mood,a=e.page,i=e.pageSize,n=a+1,o=t.slice(a*i,n*i);this.setState({currList:o,page:n})}),this.renderGitalk=(()=>{b&&!this.state.renderGitalk&&(setTimeout(()=>{var e=new c.default((0,r.default)({},m,{title:"\u5fc3\u60c5"}));e.render("gitalk")},100),this.setState({renderGitalk:!0}))}),this.state={showLoading:!0,renderGitalk:!1,mood:[],currList:[],pageSize:10,page:1,maxPage:1}}componentDidMount(){this.queryMood()}queryMood(){this.props.dispatch({type:"global/queryMood"}).then(e=>{var t=e.slice(0,this.state.pageSize),a=Math.ceil(e.length/this.state.pageSize);this.setState({showLoading:!1,mood:e,currList:t,page:1,maxPage:a})}).catch(console.error)}render(e,t){(0,o.default)(e);var a=t.showLoading,i=t.currList,n=t.page,r=t.maxPage;return s.default.createElement("div",{class:M("container")},s.default.createElement(p.Transition,{visible:!a,animation:"drop",duration:600,onShow:this.renderGitalk},s.default.createElement("div",{class:M("body")},s.default.createElement(p.Quote,{text:k}),s.default.createElement("div",{class:M("content")},i.map((e,t)=>{var a=e.created_at.slice(0,10),i=S[t];return s.default.createElement(p.Segment,{key:e.id,color:i,title:a,content:e.body})})),s.default.createElement(p.Pagination,{prev:this.prev,next:this.next,page:n,maxPage:r}))),b&&s.default.createElement("div",{id:"gitalk"}),a&&s.default.createElement(p.Loading,{className:M("loading")}))}}var w=(0,d.connect)(()=>({}))(_);t.default=w},"cjU/":function(e,t,a){e.exports={container:"container___2SS_M",body:"body___2an0M",loading:"loading___1Ci8a"}}}]);